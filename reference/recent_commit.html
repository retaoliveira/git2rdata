<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve the Most Recent File Change — recent_commit • git2rdata</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Retrieve the Most Recent File Change — recent_commit" />
<meta property="og:description" content="Retrieve the most recent commit that added or updated a file or git2rdata
object. This does not imply that file still exists at the current HEAD as it
ignores the deletion of files.
Use this information to document the current version of file or git2rdata
object in an analysis. Since it refers to the most recent change of this
file, it remains unchanged by committing changes to other files. You can
also use it to track if data got updated, requiring an analysis to
be rerun. See vignette(&quot;workflow&quot;, package = &quot;git2rdata&quot;)." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">git2rdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../news/index.html">NEWS</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plain_text.html">Getting started storing dataframes as plain text</a>
    </li>
    <li>
      <a href="../articles/version_control.html">Storing dataframes under version control</a>
    </li>
    <li>
      <a href="../articles/workflow.html">Potential workflow</a>
    </li>
    <li>
      <a href="../articles/efficiency.html">Efficiency</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../CONTRIBUTING.html">Contributing</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/git2rdata">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/INBOVlaanderen">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.facebook.com/pg/INBOVlaanderen">
    <span class="fa fa-facebook fg-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve the Most Recent File Change</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/git2rdata/blob/master/R/recent_commit.R'><code>R/recent_commit.R</code></a></small>
    <div class="hidden name"><code>recent_commit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve the most recent commit that added or updated a file or git2rdata
object. This does not imply that file still exists at the current HEAD as it
ignores the deletion of files.</p>
<p>Use this information to document the current version of file or git2rdata
object in an analysis. Since it refers to the most recent change of this
file, it remains unchanged by committing changes to other files. You can
also use it to track if data got updated, requiring an analysis to
be rerun. See <code><a href='../articles/workflow.html'>vignette("workflow", package = "git2rdata")</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>recent_commit</span>(<span class='no'>file</span>, <span class='no'>root</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>the name of the git2rdata object. Git2rdata objects cannot
have dots in their name. The name may include a relative path. <code>file</code> is a
path relative to the <code>root</code>.
Note that <code>file</code> must point to a location within <code>root</code>.</p></td>
    </tr>
    <tr>
      <th>root</th>
      <td><p>The root of a project. Can be a file path or a <code>git-repository</code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>does <code>file</code> refers to a data object (<code>TRUE</code>) or to a file
(<code>FALSE</code>)?
Defaults to <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>data.frame</code> with <code>commit</code>, <code>author</code> and <code>when</code> for the most recent
commit that adds op updates the file.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other version_control: 
<code><a href='commit.html'>commit</a>()</code>,
<code><a href='pull.html'>pull</a>()</code>,
<code><a href='push.html'>push</a>()</code>,
<code><a href='repository.html'>repository</a>()</code>,
<code><a href='status.html'>status</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># initialise a git repo using git2r</span>
<span class='no'>repo_path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span>(<span class='st'>"git2rdata-repo"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span>(<span class='no'>repo_path</span>)
<span class='no'>repo</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>git2r</span><span class='kw ns'>::</span><span class='fu'><a href='https://docs.ropensci.org/git2r/reference/init.html'>init</a></span>(<span class='no'>repo_path</span>)
<span class='kw pkg'>git2r</span><span class='kw ns'>::</span><span class='fu'><a href='https://docs.ropensci.org/git2r/reference/config.html'>config</a></span>(<span class='no'>repo</span>, <span class='kw'>user.name</span> <span class='kw'>=</span> <span class='st'>"Alice"</span>, <span class='kw'>user.email</span> <span class='kw'>=</span> <span class='st'>"alice@example.org"</span>)

<span class='co'># write and commit a first dataframe</span>
<span class='co'># store the output of write_vc() minimize screen output</span>
<span class='no'>junk</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='write_vc.html'>write_vc</a></span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>6</span>, ], <span class='st'>"iris"</span>, <span class='no'>repo</span>, <span class='kw'>sorting</span> <span class='kw'>=</span> <span class='st'>"Sepal.Length"</span>,
                 <span class='kw'>stage</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='commit.html'>commit</a></span>(<span class='no'>repo</span>, <span class='st'>"important analysis"</span>, <span class='kw'>session</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1482665] 2020-08-19: important analysis</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='no'>repo_path</span>)</div><div class='output co'>#&gt; [1] "iris.tsv" "iris.yml"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span>(<span class='fl'>1.1</span>) <span class='co'># required because git doesn't handle subsecond timings</span>

<span class='co'># write and commit a second dataframe</span>
<span class='no'>junk</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='write_vc.html'>write_vc</a></span>(<span class='no'>iris</span>[<span class='fl'>7</span>:<span class='fl'>12</span>, ], <span class='st'>"iris2"</span>, <span class='no'>repo</span>, <span class='kw'>sorting</span> <span class='kw'>=</span> <span class='st'>"Sepal.Length"</span>,
                 <span class='kw'>stage</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='commit.html'>commit</a></span>(<span class='no'>repo</span>, <span class='st'>"important analysis"</span>, <span class='kw'>session</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [4fc69b6] 2020-08-19: important analysis</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='no'>repo_path</span>)</div><div class='output co'>#&gt; [1] "iris.tsv"  "iris.yml"  "iris2.tsv" "iris2.yml"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span>(<span class='fl'>1.1</span>) <span class='co'># required because git doesn't handle subsecond timings</span>

<span class='co'># write and commit a new version of the first dataframe</span>
<span class='no'>junk</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='write_vc.html'>write_vc</a></span>(<span class='no'>iris</span>[<span class='fl'>7</span>:<span class='fl'>12</span>, ], <span class='st'>"iris"</span>, <span class='no'>repo</span>, <span class='kw'>stage</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='no'>repo_path</span>)</div><div class='output co'>#&gt; [1] "iris.tsv"  "iris.yml"  "iris2.tsv" "iris2.yml"</div><div class='input'><span class='fu'><a href='commit.html'>commit</a></span>(<span class='no'>repo</span>, <span class='st'>"important analysis"</span>, <span class='kw'>session</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [6837058] 2020-08-19: important analysis</div><div class='input'>


<span class='co'># find out in which commit a file was last changed</span>

<span class='co'># "iris.tsv" was last updated in the third commit</span>
<span class='fu'>recent_commit</span>(<span class='st'>"iris.tsv"</span>, <span class='no'>repo</span>)</div><div class='output co'>#&gt;                                     commit author                when
#&gt; 1 68370589dff1e204d6fd1b3c4250daf7cc0bc1bf  Alice 2020-08-19 17:04:34</div><div class='input'><span class='co'># "iris.yml" was last updated in the first commit</span>
<span class='fu'>recent_commit</span>(<span class='st'>"iris.yml"</span>, <span class='no'>repo</span>)</div><div class='output co'>#&gt;                                     commit author                when
#&gt; 1 68370589dff1e204d6fd1b3c4250daf7cc0bc1bf  Alice 2020-08-19 17:04:34</div><div class='input'><span class='co'># "iris2.yml" was last updated in the second commit</span>
<span class='fu'>recent_commit</span>(<span class='st'>"iris2.yml"</span>, <span class='no'>repo</span>)</div><div class='output co'>#&gt;                                     commit author                when
#&gt; 1 4fc69b6b8e67215f6a6c90986d2b15e1e4e529ec  Alice 2020-08-19 17:04:33</div><div class='input'><span class='co'># the git2rdata object "iris" was last updated in the third commit</span>
<span class='fu'>recent_commit</span>(<span class='st'>"iris"</span>, <span class='no'>repo</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;                                     commit author                when
#&gt; 1 68370589dff1e204d6fd1b3c4250daf7cc0bc1bf  Alice 2020-08-19 17:04:34</div><div class='input'>
<span class='co'># remove a dataframe and commit it to see what happens with deleted files</span>
<span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.remove</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='no'>repo_path</span>, <span class='st'>"iris.tsv"</span>))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='prune_meta.html'>prune_meta</a></span>(<span class='no'>repo</span>, <span class='st'>"."</span>)
<span class='fu'><a href='commit.html'>commit</a></span>(<span class='no'>repo</span>, <span class='kw'>message</span> <span class='kw'>=</span> <span class='st'>"remove iris"</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>session</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [3cf2132] 2020-08-19: remove iris</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='no'>repo_path</span>)</div><div class='output co'>#&gt; [1] "iris2.tsv" "iris2.yml"</div><div class='input'>
<span class='co'># still points to the third commit as this is the latest commit in which the</span>
<span class='co'># data was present</span>
<span class='fu'>recent_commit</span>(<span class='st'>"iris"</span>, <span class='no'>repo</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;                                     commit author                when
#&gt; 1 68370589dff1e204d6fd1b3c4250daf7cc0bc1bf  Alice 2020-08-19 17:04:34</div><div class='input'>
<span class='co'>#' clean up</span>
<span class='no'>junk</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.remove</a></span>(
  <span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='no'>repo_path</span>, <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                 <span class='kw'>include.dirs</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>all.files</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)),
  <span class='no'>repo_path</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.muscardinus.be'>Thierry Onkelinx</a>, <a href='https://www.inbo.be/en'><img src='https://ropensci.github.io/git2rdata/reference/figures/logo-en.png' height=24></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


